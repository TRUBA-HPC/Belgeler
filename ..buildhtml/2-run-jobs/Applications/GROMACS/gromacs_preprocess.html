
<!DOCTYPE html>


<html lang="tr" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>TRUBA’da GROMACS’in İnteraktif Kullanımı (Pre-process işlemi için) &#8212; TRUBA Kullanıcı Dokümanları</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/site_theme.css?v=80a908aa" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=a88cc430" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=fef41d8b"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../../_static/translations.js?v=34f4c3a9"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2-run-jobs/Applications/GROMACS/gromacs_preprocess';</script>
    <link rel="index" title="Dizin" href="../../../genindex.html" />
    <link rel="search" title="Ara" href="../../../search.html" />
    <link rel="next" title="ARF’ta GROMACS Programı Nasıl Kullanılır?" href="gromacs_TRUBA.html" />
    <link rel="prev" title="GROMACS Kılavuzu" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="tr"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/TRUBA_doc-footer.png" class="logo__image only-light" alt="TRUBA Kullanıcı Dokümanları - Home"/>
    <script>document.write(`<img src="../../../_static/TRUBA_doc-footer.png" class="logo__image only-dark" alt="TRUBA Kullanıcı Dokümanları - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Ara" aria-label="Ara" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Ara</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    TRUBA (Türk Ulusal Bilim e-Altyapısı)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">İçerikler</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../0-first-steps/index.html">İlk Adımlar</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/kullanici-portali/index.html">TRUBA Üyelik ve Kaynak Başvuru Rehberi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/open-vpn/openvpn_info.html">OpenVPN Bağlantısı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/MobaXterm.html">Windows’da MobaXterm Kurulumu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/arf-baglanti.html">ARF Kullanıcı Arayüzüne Bağlantı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/openondemand/index.html">Open OnDemand Arayüzü</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/arf-acc-baglanti.html">ARF-ACC Kullanıcı Arayüzüne Bağlantı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/TRUBA-arf-gecis-rehberi.html">TRUBA Kümesinden ARF Kümesine Geçiş Rehberi</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../1-hardware/index.html">Sistem Bilgileri</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/arf-genel-bilgileri.html">ARF Kümesi Hakkında Genel Bilgiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/hesaplamakumeleri.html">Hesaplama Kümeleri</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/yuksek-performansli-dosya-sistemleri.html">Yüksek Performanslı Dosya Sistemleri</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../index.html">İş Çalıştırma</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../genel_kurulum/index.html">TRUBA’da Uygulama/Kütüphane Kurulumu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../interaktif_is_calistirma.html">İnteraktif İş Çalıştırma</a></li>
<li class="toctree-l2 current active"><a class="reference internal" href="../index.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../GPU/index.html">GPU Kılavuzu</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../3-user-support/index.html">Kullanıcı Desteği</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../4-access-calls/index.html">EUROHPC ve Erişim Çağrıları</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Tam ekran modu"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Ara" aria-label="Ara" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>TRUBA’da GROMACS’in İnteraktif Kullanımı (Pre-process işlemi için)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="truba-da-gromacs-in-interaktif-kullanimi-pre-process-islemi-icin">
<span id="gromacs-preprocess"></span><h1>TRUBA’da GROMACS’in İnteraktif Kullanımı (Pre-process işlemi için)<a class="headerlink" href="#truba-da-gromacs-in-interaktif-kullanimi-pre-process-islemi-icin" title="Link to this heading">#</a></h1>
<p>Hesaplamalarınız için CUDA destekli GROMACS programını kullanacaksanız eğer girdi (input) dosyanızı oluştururken de ilgili GROMACS versiyonunu kullanmanız gerekmektedir. GROMACS-CUDA modulunu terminalden interaktif olarak kullanıyorsanız ilgili işlemi barbun1 kullanıcı arayüz makinelerinde gerçekleştirmeniz maalesef mümkün değildir, bu işlem için de yine <code class="docutils literal notranslate"><span class="pre">barbun-cuda</span></code> hesaplama kümesini kullanmanız gerekmektedir. Bunu iki şekilde yapabilirsiniz:</p>
<p>1-  İlgili pre-process işlemi için “srun” komutu ile interaktif olarak node rezervasyonu yapmanız gerekli. Eğer ilgili işlem 15 dakikayı aşmayan bir işlem ise debug kuyrugundan interaktif node talebini aşağıdaki gibi yapabilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>barbun-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">20</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>--time<span class="o">=</span><span class="m">00</span>:15:00<span class="w"> </span>--job-name<span class="w"> </span><span class="s2">&quot;precalc&quot;</span><span class="w"> </span>--pty<span class="w"> </span>bash<span class="w"> </span>-i
</pre></div>
</div>
<p>15 dakikayı aşan işlemler için ise <code class="docutils literal notranslate"><span class="pre">debug</span></code> kuyruğunu kullanmanız mümkün olmayacaktır. Dolayısıyla aşağıdaki komut ile interaktif node rezervasyonu yapabilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>barbun-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">20</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>--time<span class="o">=</span><span class="m">01</span>:00:00<span class="w"> </span>--job-name<span class="w"> </span><span class="s2">&quot;precalc&quot;</span><span class="w"> </span>--pty<span class="w"> </span>bash<span class="w"> </span>-i
</pre></div>
</div>
<p>Bu komutu yazdığınızda bekleme listesine gireceksiniz. Sıranız geldiğinde doğrudan ilgili hesaplama kümesine bağlanacaksınız. Burada ilgili modulleri yükledikten sonra interaktif olarak işinizi çalıştırabilirsiniz.</p>
<div class="admonition warning">
<p class="admonition-title">Uyarı</p>
<p>Burada dikkat etmeniz gereken husus, eğer interaktif bilgi girişini sağladıktan sonra uzun sürecek olan bir işlemse terminalden bağlantınızın kopma ihtimaline karşılık ilgili çalıştırma komutunuzu (mpirun ile başlayan) <code class="docutils literal notranslate"><span class="pre">nohup</span></code> komutu ile arka planda çalıştırmanız veya <code class="docutils literal notranslate"><span class="pre">screen</span></code> komutu ile yeni bir terminalde işinizin arka planda çalışmasını sağlayabilirsiniz. <code class="docutils literal notranslate"><span class="pre">screen</span></code> komutunun opsiyonları ile ilgili olarak <a class="reference external" href="https://kb.iu.edu/d/acuy">https://kb.iu.edu/d/acuy</a> ve <a class="reference external" href="https://www.pixelbeat.org/lkdb/screen.html">https://www.pixelbeat.org/lkdb/screen.html</a> linklerinde yer alan sayfaları inceleyebilirsiniz.</p>
</div>
<p>2- Hesaplama kümeleri yoğun olarak kullanıldığı için <code class="docutils literal notranslate"><span class="pre">srun</span></code> komutu ile interaktif node rezervasyonu uzun bekleme süreleri gerektirebilir. Dolayısı ile GROMACS ile interaktif olarak yapacağınız pre-process işlemi aşağıdaki adımları takip ederek hesaplama kümelerinde kuyruğa girmek üzere gönderebilirsiniz.</p>
<p>İnteraktif bilgi girişi yapmanızı gerektiren pre-process işlemleri için <code class="docutils literal notranslate"><span class="pre">expect</span></code> komutunun özelliklerini kullanabilirsiniz.</p>
<p>Çalıştıracağınız  programın komutunu ve de bilgi girişi yapmanız gereken sorulara ait anahtar kelimeleri bir betik dosyası içerisinde yazabilirsiniz. Bu betik dosyasının ismi <code class="docutils literal notranslate"><span class="pre">run-QA.sh</span></code> olsun. Bu scriptin içerisinde ilgili çalıştırma komutunuz yer almalı. Çalıştıracağınz işin listeleyeceği sorulara göre ilgili betik dosyasını (gmx-hamsi-cpu.slurm) düzenleyebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">########################</span>
<span class="c1">####### run-QA.sh ######</span>
<span class="c1">########################</span>
<span class="c1">#!/bin/bash</span>

<span class="nb">command</span><span class="w"> </span>line<span class="w"> </span><span class="o">(</span>buraya<span class="w"> </span>lütfen<span class="w"> </span>ilgili<span class="w"> </span>çalıştırma<span class="w"> </span>komutunuzu<span class="w"> </span>yazınız<span class="o">)</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;group number for Protein or first Protein or first group: &quot;</span>

<span class="nb">read</span><span class="w"> </span><span class="nv">$REPLY</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;group number of Ligand or second Protein or second group:&quot;</span>

<span class="nb">read</span><span class="w"> </span><span class="nv">$REPLY</span>
</pre></div>
</div>
<p>İnteraktif olarak giriş isteyen bilgilere verilecek cevapları bir betik dosyası içerisine aşağıdaki gibi yazabilirsiniz. Betik dosyasının ismi <code class="docutils literal notranslate"><span class="pre">run-interactive.sh</span></code> olsun. <code class="docutils literal notranslate"><span class="pre">run-interactive.sh</span></code> scripti öncelikle <code class="docutils literal notranslate"><span class="pre">run-QA.sh</span></code> scriptini çalıştırıyor. <code class="docutils literal notranslate"><span class="pre">run-interactive.sh</span></code> scripti programın size yönelttiği ilk sorunun (Enter the group number for Protein or first Protein or first group) son satırı olan “Select a group:” kelime bloğunu arıyor ve ilgili kelime bloğu ile karşılaşınca vereceği cevabı içeriyor. <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">a</span> <span class="pre">group:</span></code> anahtar kelimesi ekrana geldiğinde <code class="docutils literal notranslate"><span class="pre">send</span></code> komutu ile ilgili cevabı gönderiyor. Benzer şekilde ikinci soru (Enter the group number of Ligand or second Protein or second group) için de aynı işlem söz konusu. İkinci soru bloğu da yine <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">a</span> <span class="pre">group:</span></code>  ile bittiği için yine bu kelime bloğunu görünce verilecek cevabı sunuyor.</p>
<p>Burada send komutu ile önce “run-QA.sh” dosyasındaki ilk soru için “1” seçeceği, ikinci soru için “14” seçenek iletiliyor. Çalıştıracağınz işin seçimlerine göre ilgili betik dosyasını düzenleyebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">##########################</span>
<span class="c1">### run-interactive.sh ###</span>
<span class="c1">##########################</span>
<span class="c1">#!/usr/bin/expect -f</span>

<span class="nb">set</span><span class="w"> </span>timeout<span class="w"> </span>-1

spawn<span class="w"> </span>./run-QA.sh

expect<span class="w"> </span><span class="s2">&quot;Select a group:&quot;</span>

send<span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;1\r&quot;</span>

expect<span class="w"> </span><span class="s2">&quot;Select a group:&quot;</span>

send<span class="w"> </span>--<span class="w"> </span><span class="s2">&quot;14\r&quot;</span>

expect<span class="w"> </span>eof
</pre></div>
</div>
<p>İşinizi çalıştırmanız için ise SLURM betik dosyası oluşturmanız gerekli. İşinizi çalıştırmanız için oluşturduğumuz SLURM betik dosyasının ismi de <code class="docutils literal notranslate"><span class="pre">gmx-gpu.slurm</span></code> olsun. SLURM betik dosyasını aşağıdaki gibi oluşturup hesaplama kümelerinde sıraya girmesi için submit edebilirsiniz. İlgili module isimlerini ve PATH leri programınızın gerekliliklerine göre düzenlemeyi unutmayınız. Süreyi ve de hesaplama kuyruğu gibi parametreleri de kontrol ediniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH -p barbun-cuda</span>
<span class="c1">#SBATCH --nodes=1</span>
<span class="c1">#SBATCH --ntasks=20</span>
<span class="c1">#SBATCH --gres=gpu:1</span>
<span class="c1">#SBATCH -A accountname</span>
<span class="c1">#SBATCH -J gromacs-pre</span>
<span class="c1">#SBATCH --time=00-2:00:00</span>
<span class="c1">#SBATCH --output=slurm-%j.out</span>
<span class="c1">#SBATCH --error=slurm-%j.err</span>

module<span class="w"> </span>purge

module<span class="w"> </span>load<span class="w"> </span>centos7.3/comp/gcc/7
module<span class="w"> </span>load<span class="w"> </span>centos7.3/lib/openmpi/4.0.1-gcc-7.0.1
module<span class="w"> </span>load<span class="w"> </span>centos7.3/comp/python/3.6.5-gcc
module<span class="w"> </span>load<span class="w"> </span>centos7.3/lib/cuda/10.1

module<span class="w"> </span>load<span class="w"> </span>centos7.3/app/plumed/2.7.2-openmpi-4.0.1-python-3.6.5-gcc-7-GOLD-CUDA
module<span class="w"> </span>load<span class="w"> </span>centos7.3/app/gromacs/2021-openmpi-4.0.1-python-3.6.5-gcc-7-GOLD-CUDA

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;SLURM_NODELIST </span><span class="nv">$SLURM_NODELIST</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;NUMBER OF CORES </span><span class="nv">$SLURM_NTASKS</span><span class="s2">&quot;</span>

./run-interactive.sh

<span class="nb">exit</span>
</pre></div>
</div>
<p>İlgili SLURM betik dosyanızı hesaplama kümelerine</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbatch<span class="w"> </span>gmx-gpu.slurm
</pre></div>
</div>
<p>komutu ile gönderdikten sonra işlem sırasına alıacak ve de sonuç olarak GROMACS girdi dosyanız oluşturulacaktır.</p>
<p>Yukarıdaki işlem basamakları GPU destekli GROMACS versiyonu için örnek oalrak verilmiştir. Centos7.3 işletim sistemi olan barbun hesaplama kümesindeki veya Centos7.9 işletim sistemi olan hamsi hesaplama kümelerinde yer alan diğer GROMACS versiyonları için de benzer adımları gerçekleştirebilirsiniz. Örneğin hamsi hesaplama kümesinde kurulu olan “centos7.9/app/gromacs/2021.2-impi-mkl-oneapi-2021.2-GOLD” modulunu kullanarak hesaplamalarınızı yapmayı planlıyorsanız SLURM betik dosyanızın formatı aşağıdaki gibi olmalıdır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH -p hamsi</span>
<span class="c1">#SBATCH -A account_name</span>
<span class="c1">#SBATCH -J gromacs-pre</span>
<span class="c1">#SBATCH -N 1</span>
<span class="c1">#SBATCH -n 28</span>
<span class="c1">#SBATCH --time=1-12:00:00</span>
<span class="c1">#SBATCH --output=slurm-%j.out</span>
<span class="c1">#SBATCH --error=slurm-%j.err</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;SLURM_NODELIST </span><span class="nv">$SLURM_NODELIST</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;NUMBER OF CORES </span><span class="nv">$SLURM_NTASKS</span><span class="s2">&quot;</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMPI_MCA_btl_openib_allow_ib</span><span class="o">=</span><span class="m">1</span>

module<span class="w"> </span>purge

module<span class="w"> </span>load<span class="w"> </span>centos7.9/comp/gcc/7
<span class="nb">source</span><span class="w"> </span>/truba/sw/centos7.9/comp/intel/oneapi-2021.2/setvars.sh
module<span class="w"> </span>load<span class="w"> </span>centos7.9/app/gromacs/2021.2-impi-mkl-oneapi-2021.2-GOLD

./run-interactive.sh

<span class="nb">exit</span>
</pre></div>
</div>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">önceki</p>
        <p class="prev-next-title">GROMACS Kılavuzu</p>
      </div>
    </a>
    <a class="right-next"
       href="gromacs_TRUBA.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">sonraki</p>
        <p class="prev-next-title">ARF’ta GROMACS Programı Nasıl Kullanılır?</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Tarafından TÜBİTAK ULAKBİM
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021, TÜBİTAK ULAKBİM.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <div class="footer-extra" style="text-align: center; margin-top: 20px;">
    <table style="margin: 0 auto;">
        <tr>
            <td>
                <a href="https://ulakbim.tubitak.gov.tr" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/STB-ULAKBIM_doc-footer.png" alt="TÜBİTAK ULAKBİM Web Sitesi" height="60px">
                </a>
                <a href="https://www.truba.gov.tr" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/TRUBA_doc-footer.png" alt="TRUBA Web Sitesi" height="60px">
                </a>
                <a href="https://eurocc.truba.gov.tr/" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/NCCTurkiye-Color.png" alt="EuroCC Türkiye Web Sitesi" height="60px">
                </a>
            </td>
        </tr>
        <tr>
            <td style="text-align: center; padding-top: 10px;">
                <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
                    <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="CC BY-NC-SA 4.0">
                </a>
                Bu çalışma, <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons Atıf-Gayri Ticari-Aynı Lisansla Paylaş 4.0 Uluslararası Lisansı</a> ile lisanslanmıştır.
                <br><br>2025.01.01
            </td>
        </tr>
    </table>
  </div>

  </body>
</html>