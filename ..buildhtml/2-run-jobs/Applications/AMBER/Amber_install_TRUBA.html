
<!DOCTYPE html>


<html lang="tr" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2023-02-17T11:30:46+03:00" />
    <title>ARF Kümesinde Amber Kurulumu &#8212; TRUBA Kullanıcı Dokümanları</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/site_theme.css?v=80a908aa" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=a88cc430" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=fef41d8b"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../../_static/translations.js?v=34f4c3a9"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/tabs.js?v=3030b3cb"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2-run-jobs/Applications/AMBER/Amber_install_TRUBA';</script>
    <link rel="index" title="Dizin" href="../../../genindex.html" />
    <link rel="search" title="Ara" href="../../../search.html" />
    <link rel="next" title="Amber SLURM Dosyası" href="Amber_slurm_TRUBA.html" />
    <link rel="prev" title="Amber Kılavuzu" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="tr"/>
    <meta name="docbuild:last-update" content="17 Şub 2023"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/TRUBA_doc-footer.png" class="logo__image only-light" alt="TRUBA Kullanıcı Dokümanları - Home"/>
    <script>document.write(`<img src="../../../_static/TRUBA_doc-footer.png" class="logo__image only-dark" alt="TRUBA Kullanıcı Dokümanları - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Ara" aria-label="Ara" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Ara</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    TRUBA (Türk Ulusal Bilim e-Altyapısı)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">İçerikler</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../0-first-steps/index.html">İlk Adımlar</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/kullanici-portali/index.html">TRUBA Üyelik ve Kaynak Başvuru Rehberi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/open-vpn/openvpn_info.html">OpenVPN Bağlantısı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/MobaXterm.html">Windows’da MobaXterm Kurulumu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/arf-baglanti.html">ARF Kullanıcı Arayüzüne Bağlantı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/openondemand/index.html">Open OnDemand Arayüzü</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/arf-acc-baglanti.html">ARF-ACC Kullanıcı Arayüzüne Bağlantı</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../0-first-steps/TRUBA-arf-gecis-rehberi.html">TRUBA Kümesinden ARF Kümesine Geçiş Rehberi</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../1-hardware/index.html">Sistem Bilgileri</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/arf-genel-bilgileri.html">ARF Kümesi Hakkında Genel Bilgiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/hesaplamakumeleri.html">Hesaplama Kümeleri</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../1-hardware/yuksek-performansli-dosya-sistemleri.html">Yüksek Performanslı Dosya Sistemleri</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../index.html">İş Çalıştırma</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../genel_kurulum/index.html">TRUBA’da Uygulama/Kütüphane Kurulumu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../interaktif_is_calistirma.html">İnteraktif İş Çalıştırma</a></li>
<li class="toctree-l2 current active"><a class="reference internal" href="../index.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../GPU/index.html">GPU Kılavuzu</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../3-user-support/index.html">Kullanıcı Desteği</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../4-access-calls/index.html">EUROHPC ve Erişim Çağrıları</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Tam ekran modu"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Ara" aria-label="Ara" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ARF Kümesinde Amber Kurulumu</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> İçindekiler </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cpu-iceren-hesaplama-kumeleri-icin-kurulum">CPU İçeren Hesaplama Kümeleri İçin Kurulum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seri-kurulum">Seri Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#openmp-ile-kurulum">OpenMP ile Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-ile-kurulum">MPI ile Kurulum</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-iceren-hesaplama-kumeleri-icin-kurulum">GPU İçeren Hesaplama Kümeleri İçin Kurulum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuda-ile-kurulum">CUDA ile Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuda-ve-mpi-ile-kurulum">CUDA ve MPI ile Kurulum</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="arf-kumesinde-amber-kurulumu">
<span id="amber-install"></span><h1>ARF Kümesinde Amber Kurulumu<a class="headerlink" href="#arf-kumesinde-amber-kurulumu" title="Link to this heading">#</a></h1>
<p>Kendi yerel bilgisayarınızdan TRUBA’ya ilgili AMBER kurulum dosyalarını aktarmak için Filezilla gibi açık kaynak kodlu olan ve grafik arayüz sağlayan FTP istemcisini veya yerel bilgisayarınızın terminali üzerinden <code class="docutils literal notranslate"><span class="pre">scp</span></code> komutunu kullanabilirsiniz. Bu işlem adımları için aktif bir OpenVPN bağlantınızın olması gerekmektedir.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scp<span class="w"> </span>-r<span class="w"> </span>/source/folder/path/Amber*tar.bz2<span class="w"> </span>username@172.16.6.11:/arf/home/username
</pre></div>
</div>
<p>Kurulum yapmak üzere, aktif bir OpenVPN bağlantınız varken, <code class="docutils literal notranslate"><span class="pre">arf-ui</span></code> kullanıcı arayüz sunucularından birisine (<span class="xref std std-ref">openvpn-info</span>) bağlanınız.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>username@172.16.6.11
</pre></div>
</div>
<p>Amber programını derlemek için ev dizininizde bir klasör oluşturup ilgili klasöre gidiniz ve gerekli kurulum dosyalarını bu klasöre taşıyınız.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>amber-install
<span class="nb">cd</span><span class="w"> </span>amber-install
mv<span class="w"> </span>AmberTools24.tar.bz2<span class="w"> </span>Amber24.tar.bz2<span class="w"> </span>amber-install
</pre></div>
</div>
<p>Sıkıştırılmış arşiv dosyalarını açınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>xvfj<span class="w"> </span>AmberTools24.tar.bz2
tar<span class="w"> </span>xvfj<span class="w"> </span>Amber24.tar.bz2
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Arşiv dosyaları <code class="docutils literal notranslate"><span class="pre">amber24_src</span></code> isimli klasöre açılacaktır.</p>
</div>
<p>Amber programı kullanım kitapçığındaki standart <a class="reference external" href="https://ambermd.org/pmwiki/pmwiki.php/Main/CMake-Common-Options">CMake prosedürünü</a> izler. Kurulumu <code class="docutils literal notranslate"><span class="pre">CMake</span></code> ile yapmak için ilgili modülü yükleyiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>load<span class="w"> </span>comp/cmake/3.31.1
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Aşağıdaki kurulum yönergesi <code class="docutils literal notranslate"><span class="pre">GNU</span></code> derleyicileri içindir. INTEL veya farklı derleyiciler için <a class="reference external" href="https://ambermd.org/">Amber</a> sayfasında verilen kullanıcı dökümanını inceleyebilirsiniz.</p>
</div>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<blockquote>
<div><div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cpu"><span class="std std-ref">CPU İçeren Hesaplama Kümeleri İçin Kurulum</span></a></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-gpu"><span class="std std-ref">GPU İçeren Hesaplama Kümeleri İçin Kurulum</span></a></div>
</div>
</div>
</div>
</div></blockquote>
</div>
</div>
<section id="cpu-iceren-hesaplama-kumeleri-icin-kurulum">
<span id="amber-cpu"></span><h2>CPU İçeren Hesaplama Kümeleri İçin Kurulum<a class="headerlink" href="#cpu-iceren-hesaplama-kumeleri-icin-kurulum" title="Link to this heading">#</a></h2>
<p>Kurulumu hangi sunucu için yapmayı planlıyorsanız <code class="docutils literal notranslate"><span class="pre">debug</span></code> kuyruğundan <code class="docutils literal notranslate"><span class="pre">srun</span></code> ile interaktif sunucu rezervasyonu yapmanız gerekmektedir. Bu dokümantasyonda örnek olarak kurulum orfoz sunucusu üzerinde gerçekleştirilmiştir.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">orfoz</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">hamsi</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">barbun</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>orfoz<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">55</span><span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span>amber<span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>hamsi<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">54</span><span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span>amber<span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>barbun<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">20</span><span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span>amber<span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div></div>
<p>TRUBA sisteminde genel olarak kurulu olan programlar hakkındaki bilgiye</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>available
</pre></div>
</div>
<p>komutu ile ulaşabilirsiniz. Kullanıcınızda yüklenmiş modülleri</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>list
</pre></div>
</div>
<p>komutu ile listeleyebilirsiniz. Herhangi bir çakışma olmaması açısından kurulum işlemlerine başlamadan önce</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
</pre></div>
</div>
<p>komutu ile kullanıcınızda tanımlı olan tüm modüle dosyalarını kaldırmanız önerilmektedir.</p>
<p>Amber programını GNU derleyicileri ile kurmak için bağlandığınız sunucuda yer alan <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonunu</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>--version
</pre></div>
</div>
<p>komutu ile kontrol edebilirsiniz. Eğer ilgili <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonu, programın gereksinimlerini karşılayan bir versiyonsa ayrıca bir <code class="docutils literal notranslate"><span class="pre">GCC</span></code> modülü yüklemenize gerek yoktur. Sunucudaki <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonundan daha üst bir versiyona ihtiyaç söz konusu ise <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">available</span></code> komutu ile listelediğiniz <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonlarından uygun olanını <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> komutu ile yükleyebilirsiniz. Bu kurulum yönergesinde sistemde varsayılan olarak yer alan <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonu ile devam edilecektir.</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-3 sd-row-cols-xs-3 sd-row-cols-sm-3 sd-row-cols-md-3 sd-row-cols-lg-3 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cpu-seri-kurulum"><span class="std std-ref">Seri Kurulum</span></a></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cpu-openmp-kurulum"><span class="std std-ref">OpenMP ile Kurulum</span></a></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cpu-mpi-kurulum"><span class="std std-ref">MPI ile Kurulum</span></a></div>
</div>
</div>
</div>
</div>
</div>
<section id="seri-kurulum">
<span id="amber-cpu-seri-kurulum"></span><h3>Seri Kurulum<a class="headerlink" href="#seri-kurulum" title="Link to this heading">#</a></h3>
<p>Kurulum için amber_src dizini altındaki <code class="docutils literal notranslate"><span class="pre">build</span></code> klasörüne gidiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>amber_src
<span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<p>Kuruluma dair gerekli değişiklikleri yapmak için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasını düzenlemeniz gerekmektedir. Dosyayı terminal üzerinden düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz. Seri kurulum için herhangi bir değişiklik yapmadan kuruluma devam edilebilir.</p>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>GNU derleyicileri dışında farklı bir derleyici ile kurulum yapılması planlanıyorsa <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DCOMPILER</span></code> parametresi için ilgili derleyici belirtilmelidir.</p>
</div>
<p>Kurulumu başlatmak için aşağıdaki komutu terminalden yazınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cmake
</pre></div>
</div>
<p>Tanımladığınız derleyicilerin path’leri listelenecektir ve devamında da gerekli olan (miniconda vb.) kurulum dosyalarını internet üzerinden indirerek kurulum için gerekli ortam hazırlanacaktır. Süreç sorunsuz olarak ilerlediğinde terminalde aşağıdaki ekran görüntüsüne benzer bir çıktı elde edeceksiniz. Burada kuruluma dair ayrıntılar (derleyiciler, kütüphaneler vb.) listelenmektedir. Seri kullanım için kurulum yaptığımızdan ekran görüntüsünde <code class="docutils literal notranslate"><span class="pre">MPI,</span> <span class="pre">OpenMP,</span> <span class="pre">CUDA</span></code> gibi parametrelerin <code class="docutils literal notranslate"><span class="pre">OFF</span></code> durumda olduğunu göreceksiniz.</p>
<figure class="align-center" style="width: 600px">
<img alt="../../../_images/amber-serial.png" src="../../../_images/amber-serial.png" />
</figure>
<p>İlgili ekran çıktısının sonunda Amber programının nereye kurulacağına dair bilgi ile birlikte sonraki adımda uygulamanız gereken komut bilgileri yer alacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Amber<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>/arf/home/username/amber-install/amber24/
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/arf/home/username/amber-install/amber24_src/build

If<span class="w"> </span>the<span class="w"> </span>cmake<span class="w"> </span>build<span class="w"> </span>report<span class="w"> </span>looks<span class="w"> </span>OK,<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>now<span class="w"> </span><span class="k">do</span><span class="w"> </span>the<span class="w"> </span>following:

make<span class="w"> </span>install
<span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh

Consider<span class="w"> </span>adding<span class="w"> </span>the<span class="w"> </span>last<span class="w"> </span>line<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>login<span class="w"> </span>startup<span class="w"> </span>script,<span class="w"> </span>e.g.<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Yukarıdaki ekran çıktısında yaptığınız kontrol sonucunda kurulum parametrelerinin doğru olduğunu düşünüyorsanız kurulum adımına geçebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Bu işlem uzun sürecektir. Kurulum adımı, kurulum dizininizde (/arf/home/username/amber-install/amber24/) bir <code class="docutils literal notranslate"><span class="pre">amber.sh</span></code> kaynak dosyası oluşturacaktır. Bu dosya, <code class="docutils literal notranslate"><span class="pre">source</span></code> edildiğinde kabuk (shell) ortamınızı Amber için doğru şekilde kuracaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Kaynak dosyasının <code class="docutils literal notranslate"><span class="pre">source</span></code> edilmesi gerektiğini, çalıştırılmaması gerektiğini unutmayın. Bu komutları oturum açma kaynak dosyanıza (<code class="docutils literal notranslate"><span class="pre">/arf/home/username/.bashrc</span></code> gibi) ekleyebilirsiniz. İlgili komut Amber’i içeren bir dizi iş akışı için gerekli olan <code class="docutils literal notranslate"><span class="pre">AMBERHOME</span></code> ortam değişkenini ayarlar.</p>
</div>
<p>Seri kurulum sonucunda kurulum dizininizin altında <code class="docutils literal notranslate"><span class="pre">bin</span></code> klasöründe <code class="docutils literal notranslate"><span class="pre">sander</span></code> isimli çalıştırılabilir dosya oluşacaktır.</p>
<p>Kurulum tamamlandıktan sonra kontrol etmek amacıyla test adımına geçebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$AMBERHOME</span>
make<span class="w"> </span>test.serial
</pre></div>
</div>
<p>Amber programı için öğretici örneklere programın kendi web sayfasından ulaşabilirsiniz (<a class="reference external" href="https://ambermd.org/tutorials/">https://ambermd.org/tutorials/</a>).</p>
<div class="admonition warning">
<p class="admonition-title">Uyarı</p>
<p>Seri olan kod sadece tek çekirdek üzerinde çalışır o nedenle TRUBA sisteminde birden fazla tek çekirdekli işi <a class="reference internal" href="../GREASY/index.html#greasy-kilavuzu"><span class="std std-ref">GREASY</span></a> ile çalıştırabilirsiniz.</p>
</div>
</section>
<section id="openmp-ile-kurulum">
<span id="amber-cpu-openmp-kurulum"></span><h3>OpenMP ile Kurulum<a class="headerlink" href="#openmp-ile-kurulum" title="Link to this heading">#</a></h3>
<p>Kurulum için amber_src dizini altındaki <code class="docutils literal notranslate"><span class="pre">build</span></code> klasörüne gidiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/arf/home/username/amber-install/amber_src
<span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<p>CMake ile kurulum için öncelikle ilgili modülü yüklemeniz gerekmektedir:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
module<span class="w"> </span>load<span class="w"> </span>comp/cmake/3.31.1
</pre></div>
</div>
<p>OpenMP ile kurulum için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DOPENMP=TRUE</span></code> olarak düzenleyip kaydetmeniz gerekmektedir. Dosyayı terminal üzerinde düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz.</p>
<div class="admonition warning">
<p class="admonition-title">Uyarı</p>
<p><code class="docutils literal notranslate"><span class="pre">OMP</span></code> olan kod, sadece node içerisinde paralellik sağlar. İşinizi tek bir sunucuya gönderdiğinizde, belirlediğiniz çekirdek sayısına göre  (<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">OMP_NUM_THREADS=</span></code> ) işleri çekirdeklere dağıtır.</p>
</div>
<p>Kurulumu başlatmak için aşağıdaki komutu terminalden yazınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cmake
</pre></div>
</div>
<p>Bu işlem adımı ile birlikte ekranda çıkan bilgilerde öncelikle tanımladığınız derleyicilerin path’leri listelenecektir ve gerekli çevre değişkenleri kontrol edilecektir. Süreç sorunsuz olarak ilerlediğinde terminalde aşağıdaki ekran görüntüsüne benzer bir çıktı elde edeceksiniz. Burada kuruluma dair ayrıntılar (derleyiciler, kütüphaneler, kurulum dizini vb.) listelenmektedir. <code class="docutils literal notranslate"><span class="pre">OpenMP</span></code> ile kurulum yaptığımızdan ekran görüntüsünde OpenMP parametresinin <code class="docutils literal notranslate"><span class="pre">ON</span></code>,  <code class="docutils literal notranslate"><span class="pre">MPI,</span> <span class="pre">CUDA</span></code> gibi diğer parametrelerin <code class="docutils literal notranslate"><span class="pre">OFF</span></code> durumda olduğunu göreceksiniz.</p>
<figure class="align-center" style="width: 600px">
<img alt="../../../_images/amber-openmp.png" src="../../../_images/amber-openmp.png" />
</figure>
<p>İlgili ekran çıktısının sonunda Amber programının nereye kurulacağına dair bilgi ile birlikte sonraki adımda uygulamanız gereken komut bilgileri yer alacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Amber<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>/arf/home/username/amber-install/amber24/
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/arf/home/username/amber-install/amber24_src/build

If<span class="w"> </span>the<span class="w"> </span>cmake<span class="w"> </span>build<span class="w"> </span>report<span class="w"> </span>looks<span class="w"> </span>OK,<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>now<span class="w"> </span><span class="k">do</span><span class="w"> </span>the<span class="w"> </span>following:

make<span class="w"> </span>install
<span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh

Consider<span class="w"> </span>adding<span class="w"> </span>the<span class="w"> </span>last<span class="w"> </span>line<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>login<span class="w"> </span>startup<span class="w"> </span>script,<span class="w"> </span>e.g.<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Yukarıdaki ekran çıktısında yaptığınız kontrol sonucunda kurulum parametrelerinin doğru olduğunu düşünüyorsanız kurulum adımına geçebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Bu işlem uzun sürecektir. Kurulum adımı, kurulum dizininizde (/arf/home/username/amber-install/amber24) bir <code class="docutils literal notranslate"><span class="pre">amber.sh</span></code> kaynak dosyası oluşturacaktır. Bu dosya, <code class="docutils literal notranslate"><span class="pre">source</span></code> edildiğinde kabuk (shell) ortamınızı Amber için doğru şekilde kuracaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Kaynak dosyasının <code class="docutils literal notranslate"><span class="pre">source</span></code> edilmesi gerektiğini, çalıştırılmaması gerektiğini unutmayın. Bu komutları oturum açma kaynak dosyanıza (<code class="docutils literal notranslate"><span class="pre">/arf/home/username/.bashrc</span></code> gibi) ekleyebilirsiniz. İlgili komut Amber’i içeren bir dizi iş akışı için gerekli olan <code class="docutils literal notranslate"><span class="pre">AMBERHOME</span></code> ortam değişkenini ayarlar.</p>
</div>
<p>OpenMP ile kurulum sonucunda kurulum dizininizin altında <code class="docutils literal notranslate"><span class="pre">bin</span></code> klasöründe <code class="docutils literal notranslate"><span class="pre">sander.OMP</span></code> isimli çalıştırılabilir dosya oluşacaktır.</p>
<p>Kurulum tamamlandıktan sonra kontrol etmek amacıyla test adımına geçebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$AMBERHOME</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMPI_MCA_btl_openib_allow_ib</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

make<span class="w"> </span>test.openmp
</pre></div>
</div>
</section>
<section id="mpi-ile-kurulum">
<span id="amber-cpu-mpi-kurulum"></span><h3>MPI ile Kurulum<a class="headerlink" href="#mpi-ile-kurulum" title="Link to this heading">#</a></h3>
<p>MPI, işleri hem sunucun kendi içerisinde hem de birden fazla sunucu arasında dağıtarak paralelleştirme sağlar. Amber’in paralel (MPI) sürümünü derlemek için aşağıdaki adımları izleyiniz (seri sürümü başarıyla kurduktan sonra).</p>
<p>Kurulum için amber_src dizini altındaki <code class="docutils literal notranslate"><span class="pre">build</span></code> klasörüne gidiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/arf/home/username/amber-install/amber_src
<span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<p>GNU derleyicileri ve de OpenMPI kütüphanesi ile kurulum için öncelikle ilgili ve de uyumlu modülleri yüklemeniz gerekmektedir:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
module<span class="w"> </span>load<span class="w"> </span>comp/cmake/3.31.1
module<span class="w"> </span>load<span class="w"> </span>lib/openmpi/5.0.4
</pre></div>
</div>
<p>MPI ile kurulum için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DMPI=TRUE</span></code> olarak düzenleyip kaydetmeniz gerekmektedir. Dosyayı terminal üzerinde düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz.</p>
<p>Kurulumu başlatmak için aşağıdaki komutu terminalden yazınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cmake
</pre></div>
</div>
<p>Bu işlem adımı ile birlikte ekranda çıkan bilgilerde öncelikle tanımladığınız derleyicilerin path’leri listelenecektir ve gerekli çevre değişkenleri kontrol edilecektir. Süreç sorunsuz olarak ilerlediğinde terminalde aşağıdaki ekran görüntüsüne benzer bir çıktı elde edeceksiniz. Burada kuruluma dair ayrıntılar (derleyiciler, kütüphaneler, kurulum dizini vb.) listelenmektedir. <code class="docutils literal notranslate"><span class="pre">MPI</span></code> ile kurulum yaptığımızdan ekran görüntüsünde MPI parametresinin <code class="docutils literal notranslate"><span class="pre">ON</span></code>, <code class="docutils literal notranslate"><span class="pre">OpenMP,</span> <span class="pre">CUDA</span></code> gibi diğer parametrelerin <code class="docutils literal notranslate"><span class="pre">OFF</span></code> durumda olduğunu göreceksiniz.</p>
<figure class="align-center" style="width: 600px">
<img alt="../../../_images/amber-mpi.png" src="../../../_images/amber-mpi.png" />
</figure>
<p>İlgili ekran çıktısının sonunda Amber programının nereye kurulacağına dair bilgi ile birlikte sonraki adımda uygulamanız gereken komut bilgileri yer alacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Amber<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>/arf/home/username/amber-install/amber24/
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/arf/home/username/amber-install/amber24_src/build

If<span class="w"> </span>the<span class="w"> </span>cmake<span class="w"> </span>build<span class="w"> </span>report<span class="w"> </span>looks<span class="w"> </span>OK,<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>now<span class="w"> </span><span class="k">do</span><span class="w"> </span>the<span class="w"> </span>following:

make<span class="w"> </span>install
<span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh

Consider<span class="w"> </span>adding<span class="w"> </span>the<span class="w"> </span>last<span class="w"> </span>line<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>login<span class="w"> </span>startup<span class="w"> </span>script,<span class="w"> </span>e.g.<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Yukarıdaki ekran çıktısında yaptığınız kontrol sonucunda kurulum parametrelerinin doğru olduğunu düşünüyorsanız kurulum adımına geçebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Bu işlem uzun sürecektir. Kurulum adımı, kurulum dizininizde (/arf/home/username/amber-install/amber24/) bir <code class="docutils literal notranslate"><span class="pre">amber.sh</span></code> kaynak dosyası oluşturacaktır. Bu dosya, <code class="docutils literal notranslate"><span class="pre">source</span></code> edildiğinde kabuk (shell) ortamınızı Amber için doğru şekilde kuracaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Kaynak dosyasının <code class="docutils literal notranslate"><span class="pre">source</span></code> edilmesi gerektiğini, çalıştırılmaması gerektiğini unutmayın. Bu komutları oturum açma kaynak dosyanıza (<code class="docutils literal notranslate"><span class="pre">/arf/home/username/.bashrc</span></code> gibi) ekleyebilirsiniz. İlgili komut Amber’i içeren bir dizi iş akışı için gerekli olan <code class="docutils literal notranslate"><span class="pre">AMBERHOME</span></code> ortam değişkenini ayarlar.</p>
</div>
<p>MPI ile kurulum sonucunda kurulum dizininizin altında (/arf/home/username/amber-install/amber24) <code class="docutils literal notranslate"><span class="pre">bin</span></code> klasöründe <code class="docutils literal notranslate"><span class="pre">sander.MPI</span></code> isimli çalıştırılabilir dosya oluşacaktır.</p>
<p>Kurulum tamamlandıktan sonra kontrol etmek amacıyla test adımına geçebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$AMBERHOME</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMPI_MCA_btl_openib_allow_ib</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">DO_PARALLEL</span><span class="o">=</span><span class="s2">&quot;mpirun -np 2&quot;</span>

make<span class="w"> </span>test.parallel
</pre></div>
</div>
</section>
</section>
<section id="gpu-iceren-hesaplama-kumeleri-icin-kurulum">
<span id="amber-gpu"></span><h2>GPU İçeren Hesaplama Kümeleri İçin Kurulum<a class="headerlink" href="#gpu-iceren-hesaplama-kumeleri-icin-kurulum" title="Link to this heading">#</a></h2>
<p>GPU destekli Amber programının kurulumu için barbun-cuda veya akya-cuda hesaplama kümelerinden interaktif olarak <code class="docutils literal notranslate"><span class="pre">srun</span></code> komutu ile rezervasyon yapabilirsiniz. Kurulumu GPU kartı olan CUDA hesaplama kümesinde gerçekleştirmeniz gerekmektedir.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">barbun-cuda</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">akya-cuda</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>barbun-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">20</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>akya-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div></div>
<p>TRUBA sisteminde genel olarak kurulu olan programlar hakkındaki bilgiye</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>available
</pre></div>
</div>
<p>komutu ile ulaşabilirsiniz. Kullanıcınızda yüklenmiş modülleri</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>list
</pre></div>
</div>
<p>komutu ile listeleyebilirsiniz. Herhangi bir çakışma olmaması açısından kurulum işlemlerine başlamadan önce</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
</pre></div>
</div>
<p>komutu ile kullanıcınızda tanımlı olan tüm modüle dosyalarını kaldırmanız önerilmektedir.</p>
<p>Amber programını GNU derleyicileri ile kurmak için bağlandığınız sunucuda yer alan <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonunu</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>--version
</pre></div>
</div>
<p>komutu ile kontrol edebilirsiniz. Eğer ilgili <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonu, programın gereksinimlerini karşılayan bir versiyonsa ayrıca bir <code class="docutils literal notranslate"><span class="pre">GCC</span></code> modülü yüklemenize gerek yoktur. Sunucudaki <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonundan daha üst bir versiyona ihtiyaç söz konusu ise <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">available</span></code> komutu ile listelediğiniz <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonlarından uygun olanını <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> komutu ile yükleyebilirsiniz. Bu kurulum yönergesinde sistemde varsayılan olarak yer alan <code class="docutils literal notranslate"><span class="pre">GCC</span></code> versiyonu ile devam edilecektir.</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cuda-kurulum"><span class="std std-ref">CUDA ile Kurulum</span></a></div>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-text-center docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference internal" href="#amber-cuda-mpi-kurulum"><span class="std std-ref">CUDA ve MPI ile Kurulum</span></a></div>
</div>
</div>
</div>
</div>
</div>
<section id="cuda-ile-kurulum">
<span id="amber-cuda-kurulum"></span><h3>CUDA ile Kurulum<a class="headerlink" href="#cuda-ile-kurulum" title="Link to this heading">#</a></h3>
<p>CUDA, NVIDIA GPU’larında çalışan özel uygulamalar oluşturmak için NVIDIA’nın yazılım geliştirme kitidir. Amber öncelikle <code class="docutils literal notranslate"><span class="pre">pmemd.cuda</span></code> da CUDA’yı kullanır, ancak aynı zamanda AmberTools’daki <code class="docutils literal notranslate"><span class="pre">cpptraj,</span> <span class="pre">mdgx,</span> <span class="pre">pbsa</span></code> gibi diğer bazı uygulamaları hızlandırmak için de kullanılır. Mevcut durumda Amber 24 versiyonu, 7.5 ile 12.4 dahil CUDA sürümlerini desteklemektedir.</p>
<p>Kurulum için amber_src dizini altındaki <code class="docutils literal notranslate"><span class="pre">build</span></code> klasörüne gidiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/arf/home/username/amber-install/amber_src
<span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<p>GNU derleyicileri ve de CUDA ile kurulum için öncelikle ilgili ve de uyumlu modülleri yüklemeniz gerekmektedir:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
module<span class="w"> </span>load<span class="w"> </span>comp/cmake/3.31.1
module<span class="w"> </span>load<span class="w"> </span>lib/cuda/12.4
</pre></div>
</div>
<p>CUDA dizinini aşağıdaki komut ile kontrol edebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$CUDA_HOME</span>
</pre></div>
</div>
<p>İlgili komutun çıktısı aşağıdaki gibi olacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/arf/sw/lib/cuda/12.4
</pre></div>
</div>
<p>CUDA ile kurulum için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DCUDA=TRUE</span></code> ve de kullandığınız CUDA versiyonuna göre CUDA için root klasörünün yolunu  (buradaki örnek kurulum için <code class="docutils literal notranslate"><span class="pre">-DCUDA_TOOLKIT_ROOT_DIR=/arf/sw/lib/cuda/12.4</span></code>) ekleyip kaydetmeniz gerekmektedir. Dosyayı terminal üzerinde düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz.</p>
<p>Kurulumu başlatmak için aşağıdaki komutu terminalden yazınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cmake
</pre></div>
</div>
<p>Bu işlem adımı ile birlikte ekranda çıkan bilgilerde öncelikle tanımladığınız derleyicilerin path’leri listelenecektir ve gerekli çevre değişkenleri kontrol edilecektir. Süreç sorunsuz olarak ilerlediğinde terminalde aşağıdaki ekran görüntüsüne benzer bir çıktı elde edeceksiniz. Burada kuruluma dair ayrıntılar (derleyiciler, kütüphaneler, kurulum dizini vb.) listelenmektedir. <code class="docutils literal notranslate"><span class="pre">CUDA</span></code> ile kurulum yaptığımızdan ekran görüntüsünde <code class="docutils literal notranslate"><span class="pre">CUDA</span></code> parametresinin <code class="docutils literal notranslate"><span class="pre">ON</span></code>,  <code class="docutils literal notranslate"><span class="pre">OpenMP,</span> <span class="pre">MPI</span></code> gibi diğer parametrelerin <code class="docutils literal notranslate"><span class="pre">OFF</span></code> durumda olduğunu göreceksiniz.</p>
<figure class="align-center" style="width: 600px">
<img alt="../../../_images/amber-cuda.png" src="../../../_images/amber-cuda.png" />
</figure>
<p>İlgili ekran çıktısının sonunda Amber programının nereye kurulacağına dair bilgi ile birlikte sonraki adımda uygulamanız gereken komut bilgileri yer alacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Amber<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>/arf/home/username/amber-install/amber24/
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/arf/home/username/amber-install/amber24_src/build

If<span class="w"> </span>the<span class="w"> </span>cmake<span class="w"> </span>build<span class="w"> </span>report<span class="w"> </span>looks<span class="w"> </span>OK,<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>now<span class="w"> </span><span class="k">do</span><span class="w"> </span>the<span class="w"> </span>following:

make<span class="w"> </span>install
<span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh

Consider<span class="w"> </span>adding<span class="w"> </span>the<span class="w"> </span>last<span class="w"> </span>line<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>login<span class="w"> </span>startup<span class="w"> </span>script,<span class="w"> </span>e.g.<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Yukarıdaki ekran çıktısında yaptığınız kontrol sonucunda kurulum parametrelerinin doğru olduğunu düşünüyorsanız kurulum adımına geçebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Bu işlem uzun sürecektir. Kurulum adımı, kurulum dizininizde (/arf/home/username/amber-install/amber24/) bir <code class="docutils literal notranslate"><span class="pre">amber.sh</span></code> kaynak dosyası oluşturacaktır. Bu dosya, <code class="docutils literal notranslate"><span class="pre">source</span></code> edildiğinde kabuk (shell) ortamınızı Amber için doğru şekilde kuracaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Kaynak dosyasının <code class="docutils literal notranslate"><span class="pre">source</span></code> edilmesi gerektiğini, çalıştırılmaması gerektiğini unutmayın. Bu komutları oturum açma kaynak dosyanıza (<code class="docutils literal notranslate"><span class="pre">/arf/home/username/.bashrc</span></code> gibi) ekleyebilirsiniz. İlgili komut Amber’i içeren bir dizi iş akışı için gerekli olan <code class="docutils literal notranslate"><span class="pre">AMBERHOME</span></code> ortam değişkenini ayarlar.</p>
</div>
<p>CUDA ile kurulum sonucunda kurulum dizininizin altında (/arf/home/username/amber-install/amber24) <code class="docutils literal notranslate"><span class="pre">bin</span></code> klasöründe <code class="docutils literal notranslate"><span class="pre">pmemd.cuda</span></code> isimli çalıştırılabilir dosya oluşacaktır.</p>
<p>Kurulum tamamlandıktan sonra kontrol etmek amacıyla test adımına geçebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$AMBERHOME</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span>
make<span class="w"> </span>test.cuda.serial
</pre></div>
</div>
</section>
<section id="cuda-ve-mpi-ile-kurulum">
<span id="amber-cuda-mpi-kurulum"></span><h3>CUDA ve MPI ile Kurulum<a class="headerlink" href="#cuda-ve-mpi-ile-kurulum" title="Link to this heading">#</a></h3>
<p>CUDA seri kurulumu başarıyla tamamladıktan sonra CUDA ve MPI ile kurulum için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DCUDA=TRUE</span></code>, <code class="docutils literal notranslate"><span class="pre">-DMPI=TRUE</span></code> ve de kullandığınız CUDA versiyonuna göre CUDA için root klasörünün yolunu  (buradaki örnek kurulum için <code class="docutils literal notranslate"><span class="pre">-DCUDA_TOOLKIT_ROOT_DIR=/arf/sw/lib/cuda/12.4</span></code>) ekleyip kaydetmeniz gerekmektedir. Dosyayı terminal üzerinde düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz.</p>
<div class="admonition warning">
<p class="admonition-title">Uyarı</p>
<p>CUDA ile kurulum için cuda hesaplama kümelerinden interaktif olarak <code class="docutils literal notranslate"><span class="pre">srun</span></code> komutu ile rezervsyon yapabilirsiniz. Kurulumu GPU kartı olan CUDA hesaplama kümesinde gerçekleştirmeniz gerekmektedir.</p>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">barbun-cuda</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">akya-cuda</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>barbun-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">20</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>srun<span class="w"> </span>-p<span class="w"> </span>debug<span class="w"> </span>-C<span class="w"> </span>akya-cuda<span class="w"> </span>-N<span class="w"> </span><span class="m">1</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">10</span><span class="w"> </span>--gres<span class="o">=</span>gpu:1<span class="w"> </span>-A<span class="w"> </span>kullanici_adi<span class="w"> </span>-J<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span>:30:00<span class="w"> </span>--pty<span class="w"> </span>/usr/bin/bash<span class="w"> </span>-i
</pre></div>
</div>
</div></div>
<p>Kurulum için amber_src dizini altındaki <code class="docutils literal notranslate"><span class="pre">build</span></code> klasörüne gidiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/arf/home/username/amber-install/amber_src
<span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<p>GNU derleyicileri, CUDA ve de OpenMPI kütüphanesi ile kurulum için öncelikle ilgili ve de uyumlu modülleri yüklemeniz gerekmektedir:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>purge
module<span class="w"> </span>load<span class="w"> </span>comp/cmake/3.31.1
module<span class="w"> </span>load<span class="w"> </span>lib/cuda/12.4
module<span class="w"> </span>load<span class="w"> </span>lib/openmpi/5.0.4-cuda-12.4
</pre></div>
</div>
<p>CUDA dizinini aşağıdaki komut ile kontrol edebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$CUDA_HOME</span>
</pre></div>
</div>
<p>İlgili komutun çıktısı aşağıdaki gibi olacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/arf/sw/lib/cuda/12.4
</pre></div>
</div>
<p>CUDA ile kurulum için <code class="docutils literal notranslate"><span class="pre">run_cmake</span></code> komut dosyasında <code class="docutils literal notranslate"><span class="pre">-DCUDA=TRUE</span></code> ve de kullandığınız CUDA versiyonuna göre CUDA için root klasörünün yolunu  (buradaki örnek kurulum için <code class="docutils literal notranslate"><span class="pre">-DCUDA_TOOLKIT_ROOT_DIR=/arf/sw/lib/cuda/12.4</span></code>) ekleyip kaydetmeniz gerekmektedir. Dosyayı terminal üzerinde düzenlemek için <code class="docutils literal notranslate"><span class="pre">vi,</span> <span class="pre">vim,</span> <span class="pre">nano,</span> <span class="pre">emacs</span></code> gibi editörleri kullanabilirsiniz.</p>
<p>Kurulumu başlatmak için aşağıdaki komutu terminalden yazınız:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_cmake
</pre></div>
</div>
<p>Bu işlem adımı ile birlikte ekranda çıkan bilgilerde öncelikle tanımladığınız derleyicilerin path’leri listelenecektir ve gerekli çevre değişkenleri kontrol edilecektir. Süreç sorunsuz olarak ilerlediğinde terminalde aşağıdaki ekran görüntüsüne benzer bir çıktı elde edeceksiniz. Burada kuruluma dair ayrıntılar (derleyiciler, kütüphaneler, kurulum dizini vb.) listelenmektedir. CUDA ve MPI ile kurulum yaptığımızdan ekran görüntüsünde CUDA ve MPI parametrelerinin <code class="docutils literal notranslate"><span class="pre">ON</span></code>,  OpenMP parametresinin <code class="docutils literal notranslate"><span class="pre">OFF</span></code> durumda olduğunu göreceksiniz.</p>
<figure class="align-center" style="width: 600px">
<img alt="../../../_images/amber-mpi-cuda.png" src="../../../_images/amber-mpi-cuda.png" />
</figure>
<p>İlgili ekran çıktısının sonunda Amber programının nereye kurulacağına dair bilgi ile birlikte sonraki adımda uygulamanız gereken komut bilgileri yer alacaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Amber<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed<span class="w"> </span>to<span class="w"> </span>/arf/home/username/amber-install/amber24/
--<span class="w"> </span>Configuring<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Generating<span class="w"> </span><span class="k">done</span>
--<span class="w"> </span>Build<span class="w"> </span>files<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>written<span class="w"> </span>to:<span class="w"> </span>/arf/home/username/amber-install/amber24_src/build

If<span class="w"> </span>the<span class="w"> </span>cmake<span class="w"> </span>build<span class="w"> </span>report<span class="w"> </span>looks<span class="w"> </span>OK,<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>now<span class="w"> </span><span class="k">do</span><span class="w"> </span>the<span class="w"> </span>following:

make<span class="w"> </span>install
<span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh

Consider<span class="w"> </span>adding<span class="w"> </span>the<span class="w"> </span>last<span class="w"> </span>line<span class="w"> </span>to<span class="w"> </span>your<span class="w"> </span>login<span class="w"> </span>startup<span class="w"> </span>script,<span class="w"> </span>e.g.<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>Yukarıdaki ekran çıktısında yaptığınız kontrol sonucunda kurulum parametrelerinin doğru olduğunu düşünüyorsanız kurulum adımına geçebilirsiniz:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Bu işlem uzun sürecektir. Kurulum adımı, kurulum dizininizde (/arf/home/username/amber-install/amber24/) bir <code class="docutils literal notranslate"><span class="pre">amber.sh</span></code> kaynak dosyası oluşturacaktır. Bu dosya, <code class="docutils literal notranslate"><span class="pre">source</span></code> edildiğinde kabuk (shell) ortamınızı Amber için doğru şekilde kuracaktır:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/arf/home/username/amber-install/amber24/amber.sh
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Kaynak dosyasının <code class="docutils literal notranslate"><span class="pre">source</span></code> edilmesi gerektiğini, çalıştırılmaması gerektiğini unutmayın. Bu komutları oturum açma kaynak dosyanıza (<code class="docutils literal notranslate"><span class="pre">/arf/home/username/.bashrc</span></code> gibi) ekleyebilirsiniz. İlgili komut Amber’i içeren bir dizi iş akışı için gerekli olan <code class="docutils literal notranslate"><span class="pre">AMBERHOME</span></code> ortam değişkenini ayarlar.</p>
</div>
<p>CUDA ile kurulum sonucunda kurulum dizininizin altında (/arf/home/username/amber-install/amber24) <code class="docutils literal notranslate"><span class="pre">bin</span></code> klasöründe <code class="docutils literal notranslate"><span class="pre">pmemd.cuda.MPI</span></code> isimli çalıştırılabilir dosya oluşacaktır.</p>
<p>Kurulum tamamlandıktan sonra kontrol etmek amacıyla test adımına geçebilirsiniz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$AMBERHOME</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMPI_MCA_btl_openib_allow_ib</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">1</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">DO_PARALLEL</span><span class="o">=</span><span class="s2">&quot;mpirun -np 2&quot;</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span>

make<span class="w"> </span>test.cuda.parallel
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">önceki</p>
        <p class="prev-next-title">Amber Kılavuzu</p>
      </div>
    </a>
    <a class="right-next"
       href="Amber_slurm_TRUBA.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">sonraki</p>
        <p class="prev-next-title">Amber SLURM Dosyası</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> İçindekiler
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cpu-iceren-hesaplama-kumeleri-icin-kurulum">CPU İçeren Hesaplama Kümeleri İçin Kurulum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seri-kurulum">Seri Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#openmp-ile-kurulum">OpenMP ile Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mpi-ile-kurulum">MPI ile Kurulum</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gpu-iceren-hesaplama-kumeleri-icin-kurulum">GPU İçeren Hesaplama Kümeleri İçin Kurulum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuda-ile-kurulum">CUDA ile Kurulum</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuda-ve-mpi-ile-kurulum">CUDA ve MPI ile Kurulum</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Tarafından TÜBİTAK ULAKBİM
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021, TÜBİTAK ULAKBİM.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Son güncelleme: 17 Şub 2023.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <div class="footer-extra" style="text-align: center; margin-top: 20px;">
    <table style="margin: 0 auto;">
        <tr>
            <td>
                <a href="https://ulakbim.tubitak.gov.tr" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/STB-ULAKBIM_doc-footer.png" alt="TÜBİTAK ULAKBİM Web Sitesi" height="60px">
                </a>
                <a href="https://www.truba.gov.tr" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/TRUBA_doc-footer.png" alt="TRUBA Web Sitesi" height="60px">
                </a>
                <a href="https://eurocc.truba.gov.tr/" target="_blank" style="margin-right: 30px; display: inline-block;">
                    <img src="https://www.truba.gov.tr/wp-content/uploads/2025/02/NCCTurkiye-Color.png" alt="EuroCC Türkiye Web Sitesi" height="60px">
                </a>
            </td>
        </tr>
        <tr>
            <td style="text-align: center; padding-top: 10px;">
                <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
                    <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="CC BY-NC-SA 4.0">
                </a>
                Bu çalışma, <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons Atıf-Gayri Ticari-Aynı Lisansla Paylaş 4.0 Uluslararası Lisansı</a> ile lisanslanmıştır.
                <br><br>2025.01.01
            </td>
        </tr>
    </table>
  </div>

  </body>
</html>