.. _ardeb-hsbvsb-2020:

====================================================================================================
TRUBA Hizmetlerinden Proje Kapsamında Faydalanacak Akademik İstekliler için HSB ve VSB Hizmeti 2020
====================================================================================================

Hesaplama ve veri depolama ihtiyacı olan isteklilerin, ihtiyaçlarının TRUBA kaynakları tarafından karşılanabilmesi için 22 Ekim 2010 tarih ve 65 sayılı TÜBİTAK ULAKBİM Yönetim Kurulu'nda onaylanan "TÜBİTAK ULAKBİM tarafından Yüksek Başarımlı ve Grid Hesaplama Merkezi Üzerinden Yürütülecek Dış Destekli Projelere İlişkin Çerçeve İlkeler” kapsamında TRUBA kaynakları ücretlendirilebilmektedir.

Bu kapsamda 2011 yılından itibaren TÜBİTAK ARDEB ile yapılan işbirliği ile proje önerisinde hesaplama ve veri depolama isteği bulunan araştırmacılara ilgili Çerçeve İlkeler kapsamında proforma fatura hazırlanarak, projesinin kabul edilmesinden sonra ilgili araştırmacı ve TÜBİTAK ULAKBİM Müdürü arasında imzalanan sözleşme kapsamında HSB ve VSB Hizmeti verilmektedir.

16 Kasım 2013 tarihli 77 sayılı toplantısında, TRUBA Hizmetlerinden faydalanmak isteyen proje destekli akademik araştırmacılar için 2014 yılı ve sonrasındaki yıllar için sabit bir ücretlendirme tarifesi belirlenerek, ilgili tarifenin web üzerinden araştırmacılara sunulması kararı alınmıştır.

*T.C. Kalkınma Bakanlığı destekli Araştırma Altyapıları projeleri, TRUBA kaynaklarından hesaplama ve veri depolama kaynağı talep etmeleri durumunda yine aşağıdaki tablo yer alan bedelleri üzerinden hizmet alabileceklerdir.*


+-----------------------+----------------------------+---------------------------------------------------------+
|                                  Hesaplama Servis Birimi (HSB)                                               |
+=======================+============================+=========================================================+
| Sunucu Tipi           | Saatlik İşlemci            | Sunucu Özelliği                                         |
|                       | Çekirdeği Bedeli [#note1]_ |                                                         |
+-----------------------+----------------------------+---------------------------------------------------------+
| Akya-GPU              |    0,07 TL                 | Intel Xeon Gold 6148 2.40GHz, 2x20 çekirdek,            |
|                       |                            | çekirdek başına 9.6 GB bellek, EDR IB bağlantı,         |
|                       |                            | 4 x Tesla V100 16 GB GPU                                |
+-----------------------+----------------------------+---------------------------------------------------------+
| Barbun                |    0,04 TL                 | Intel Xeon Gold 6148 2.40GHz, 2x20 çekirdek,            |
|                       |                            | çekirdek başına 9.6 GB bellek, EDR IB bağlantı          |
+-----------------------+----------------------------+---------------------------------------------------------+
| Barbun-GPU            |    0,07 TL                 | Intel Xeon Gold 6148 2.40GHz, 2x20 çekirdek,            |
|                       |                            | çekirdek başına 9.6 GB bellek, EDR IB bağlantı,         |
|                       |                            | 4 x Tesla P100 16 GB GPU                                |
+-----------------------+----------------------------+---------------------------------------------------------+
| Sardalya              |    0,06 TL                 | Intel E-5 2690 v4 2.60GHz, 2x14 çekirdek,               |
|                       |                            | çekirdek başına 9.18 GB bellek, EDR IB bağlantı         |
+-----------------------+----------------------------+---------------------------------------------------------+
| Orkinos [#note2]_     |    0,02 TL                 | Intel E-7 4850 v3 2.20GHz, 224 çekirdek,                |
|                       |                            | çekirdek başına 18.28 GB bellek (SMP), QDR IB bağlantı  |
+-----------------------+----------------------------+---------------------------------------------------------+


.. [#note1] Saatlik hesaplama servis biriminin KDV hariç bedelidir.Herhangi bir hesaplama, veri depolama alanı olmadan kullanılamayacağı için ilgili bedele en az 1TB depolama alanı saatlik bedeli dahil edilmelidir. 

.. [#note2] Orkinos donanımı SMP bir sistem olmak ile birlikte, projelerinde toplam bellek miktarının yüksek olmasına ihtiyaç duyan araştırmacıların, istedikleri bellek miktarına göre çekirdek talep etmeleri gerekmektedir. Mevcut durumda sözleşmeli olarak farklı araştırma projelerinde kullanıldığı için uygunluk durumunu ``ardeb@ulakbim.gov.tr`` adresine eposta gönderilerek sorulabilir. 


+----------------------+---------------------------+---------------------------------------------+
|                              Veri Servis Birimi (VSB)                                          |
+======================+===========================+=============================================+
| Depolama Tipi        | Saatlik 1 TB              | Sunucu Özelliği                             |
|                      | Depoloma Bedeli [#note3]_ |                                             |
+----------------------+---------------------------+---------------------------------------------+
| Depolama-Lustre      |    0,03 TL                | 2600 TB tüm hesaplama sunucuları tarafından |
|                      |                           | görünen performans disk alanı               |
+----------------------+---------------------------+---------------------------------------------+
| Depolama-Lustre-2019 |    0,02 TL                | 8400 TB tüm hesaplama sunucuları tarafından |
|                      |                           | görünen performans disk alanı               |
+----------------------+---------------------------+---------------------------------------------+

.. [#note3] Saatlik 1 TB veri servis birimin KDV hariç bedelidir. 

.. note:: 

   Hesaplamalarda 1 ay 30 gün, 1 yıl ise 360 gün (12 ay x 30 gün) olarak hesaplanmaktadır. 

-----------------------------------------------------------------------------------------------------
 Proje kapsamında TRUBA'dan Hizmet Almak İsteyen Araştırmacılar İçin Yaklaşık Maaliyet Belirlenmesi 
-----------------------------------------------------------------------------------------------------

TÜBİTAK ULAKBİM tarafından işletilen TRUBA kaynaklarından proje kapsamında destek almak isteyen araştırmacılar, proje önerisinde bulunmadan önce ihtiyaç duydukları kaynak miktarlarına göre, yukarıdaki tablodan projeleri için ihtiyaç duyulan bütçeyi hazırlayabilirler. Her türlü soru ve sorun ``ardeb@ulakbim.gov.tr`` e-posta adresine yönlendirilebilir. 

------------------------------------------------------------------------------------------------
Projesi kabul edilerek TRUBA'dan Hizmet Almak İsteyen Araştırmacılar İçin Sözleşme Düzenlenmesi 
------------------------------------------------------------------------------------------------

TÜBİTAK ARDEB tarafından destekleneceği kesinleşen projeler kapsamında TÜBİTAK ULAKBİM'den destek alacak olan projeler için, yukarıdaki tabloda yer alan işlemci saat bedeli üzerinden istenilen kaynak miktarları belirlenebilir. Karşılıklı olarak ihtiyaç duyulan HSB ve VSB değerleri üzerinden proje boyunca kullanılacak çekirdek saat miktarı belirlenerek, en son HSB ve VSB değerlerine göre yeni sözleşme oluşturularak, Proje Yürütücüsü ve TÜBİTAK ULAKBİM Müdürü arasında imzalanır. İmzalanan sözleşme tarihlerine göre alınan hizmet aylık/dönemsel olarak Proje Yürütücüsü adına faturalandırılır. Her türlü soru ve sorun ``ardeb@ulakbim.gov.tr`` e-posta adresine yönlendirilebilir. 


Örnek Hesaplama - I
--------------------

Kullanıcılar, sunucuların teknik özelliklerini göz önünde bulundurarak (çekirdek hızı, çekirdek sayısı, bellek miktarı, işlemci mimarisi vs) kullanmak isteyecekleri sunucu grubunu belirleyebilirler. Merkezi dosya sistemi kullanılmadan herhangi bir hesaplama yapmak mümkün olmadığı için hizmet bedeline verileri saklamak için de bir bedel eklenmelidir. Eklenebilecek en az veri alanı büyüklüğü 1 TB'dır. Herhangi bir hesaplama ve veri saklama talebi için hizmet bedeli aşağıdaki gibi hesaplanabilir: 

 .. code-block::

   Toplam HSB = Toplam çekirdek zamanı x Talep Edilen Çekirdek Sayısı x Seçilen İşlemci Çekirdeğinin  Saatlik Bedeli
   Toplam VSB = Öngörülen veri saklama zamanı x TB Miktarı x Seçilen Veri Depolama Alanının Saatlik Bedeli


Mesela, projesi süresince 138.240 çekirdek saat  [#note4]_ hesaplama yapmayı ve bu çalışmalarının sonuçlarını başlangıcından itibaren 120 gün süre [#note5]_ ile sistemde saklamayı öngören bir kullanıcı, ilgili hizmet tutarını aşağıdaki gibi hesaplayabilir.

Eğer kullanıcı hesaplarını, Barbun sunucuları üzerinde gerçekleştirmek ve verilerini Lustre-2019 depolama alanında saklamak istiyorsa [#note6]_:

 .. code-block::

   Toplam HSB = 138.240 saat x 0,04 TL = 5.529,60 TL  
   Toplam VSB = 120 gün x 24 saat  x 1 TB x 0,02 = 57,60 TL
   Toplam Tutar = 5.529,60 TL + 57,60 TL = 5.587,20 TL (KDV Hariç)

.. [#note4] Aynı anda kullanılabilecek çekirdek sayısı sınırlıdır. En fazla aynı anda kullanılacak çekirdek sayısını bildirmek gerekmektedir. İlgili sayı proje yürütücüsü ve TÜBİTAK ULAKBİM Müdürü arasında imzalanacak olan sözleşmede yer alacaktır.

.. [#note5] Bu süre, yapılacak hesaplamanın bitiş zamanından daha uzun olması gerekmektedir. Hesaplamaların bu süreden daha uzun çıkması durumunda, fazla süre ile kullanılan disk alanı bedeli son faturaya yansıtılacaktır.

.. [#note6] Hesaplanan miktarlar KDV hariç tutarlar olup, projenizin bütçesini belirlerken %18 KDV miktarının da dahil edilmesi gerekmektedir. 


Örnek Hesaplama - II
--------------------

Hizmet bedelinin, çekirdek sayısı ve proje süresi üzerinden hesaplamak istenmesi durumunda aşağıdaki yol izlenebilir.

Mesela, projesi kapsamında 120 gün boyunca 112 çekirdek ile hesaplama yapmak ve 1 TB'a kadar Lustre-2019 depolama alanı kullanmak isteyen bir kullanıcı, toplam hizmet bedelini aşağıdaki gibi hesaplayabilir.

Eğer kullanıcı hesaplarını Sardalya sunucuları üzerinde gerçekleştirmek istiyorsa [#note7]_ :

 .. code-block::

   Toplam Çalışma Süresi  = 120 gün x 24 saat = 2880 Saat
   Toplam Çekirdek Zamanı = 120 gün x 24 saat x 112 = 322560 Saat
   Toplam HSB = 2880 Saat x 112 x 0,06 TL = 19.353,60 TL 
   Toplam VSB = 2880 saat x 1 TB x 0,02 = 57,60 TL 
   Toplam Tutar = 19.353,60 TL + 57,60 TL = 19.411,20 TL (KDV Hariç)

.. [#note7]  Hesaplanan miktarlar KDV hariç tutarlar olup, projenizin bütçesini belirlerken %18 KDV miktarının da dahil edilmesi gerekmektedir. 

GPU ile hesaplama yapmak isteyen kullanıcılar, GPU'ların takılı oldugu sunuculardaki tüm çekirdekleri de fiyatlandırmak durumundadır. Örneğin 120 Gün boyunca 6 GPU kullanarak hesaplama yapmak isteyen bir kullanıcı, her biri 2 adet GPU bulunduran Barbun sunucusunu kullanabilir. Barbun sunucularındaki çekirdek sayısı 40'dır. Toplam 6 adet GPU kullanımı icin 3 adet Barbun-GPU sunucusu ücretlendirilmelidir. Böyle bir hizmet talep edilmesi durumunda, hizmet tutarı aşağıdaki gibi hesaplanabilir [#note8]_ :

 .. code-block::

   Toplam Çalışma Süresi  = 120 gün x 24 saat = 2880 Saat
   Toplam Çekirdek Zamanı = 120 gün x 24 saat x 120 = 345600 Saat
   Toplam HSB = 2880 Saat x 120 x 0,07 TL = 24.192,00 TL 
   Toplam VSB = 2880 saat x 1 TB x 0,02 = 57,60 TL 
   Toplam Tutar = 24.192,00 TL + 57,60 TL = 24.249,60 TL (KDV Hariç)

.. [#note8]  Hesaplanan miktarlar KDV hariç tutarlar olup, projenizin bütçesini belirlerken %18 KDV miktarının da dahil edilmesi gerekmektedir. 
